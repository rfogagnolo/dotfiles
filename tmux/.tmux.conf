# ===========================================
# tmux config â€” vibe coding setup
# ===========================================

# --- True color (Ghostty suporta nativamente) ---
set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",xterm-ghostty:RGB,xterm-256color:RGB"

# --- Prefix: Ctrl+A (mais ergonomico que Ctrl+B) ---
unbind C-b
set -g prefix C-a
bind C-a send-prefix

# --- Comportamento geral ---
set -g mouse on
set -g history-limit 50000
set -g base-index 1
setw -g pane-base-index 1
set -g renumber-windows on
set -g set-clipboard on
set -sg escape-time 0
set -g focus-events on

# --- Split panes intuitivo ---
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"
unbind '"'
unbind %

# Nova janela no diretorio atual
bind c new-window -c "#{pane_current_path}"

# --- Navegar entre panes com Alt+setas (sem prefix) ---
bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D

# --- Redimensionar panes com Prefix + setas ---
bind -r Left resize-pane -L 5
bind -r Right resize-pane -R 5
bind -r Up resize-pane -U 3
bind -r Down resize-pane -D 3

# --- Reload config rapido ---
bind r source-file ~/.tmux.conf \; display "Config recarregada!"

# --- Status bar limpa e funcional ---
set -g status-position bottom
set -g status-style "bg=default,fg=white"
set -g status-left-length 30
set -g status-right-length 50

set -g status-left "#[fg=black,bg=blue,bold] #S #[default] "
set -g status-right "#[fg=colour245] %H:%M  %d/%m "

# Janela ativa vs inativa
setw -g window-status-current-format "#[fg=black,bg=green,bold] #I:#W "
setw -g window-status-format "#[fg=colour245] #I:#W "

# --- Borda dos panes ---
set -g pane-border-style "fg=colour238"
set -g pane-active-border-style "fg=green"

# --- Copiar com vi keys ---
setw -g mode-keys vi
bind -T copy-mode-vi v send-keys -X begin-selection
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "pbcopy"

# --- Sessao persistente: nao matar servidor ao fechar ultima sessao ---
set -g detach-on-destroy off
